<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin - Lab Management</title>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/style_admin_lab.css">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>

  <div class="sidebar">
    <div class="sidebar-header">
      <h3 style="margin:0 0 15px 0;">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Lab Member</h3>
      <button class="btn-full btn-gray" onclick="openLabSettings()">‚öôÔ∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Lab</button>
      <button class="btn-full btn-gray" onclick="openCategorySettings()">üìÅ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</button>
      <button class="btn-full btn-orange" onclick="openMemberForm()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà</button>
    </div>
    <div class="project-list" id="member-list">Loading...</div>
  </div>

  <div class="main-editor">

    <div id="lab-settings-editor" class="settings-box">
      <h2 class="section-header">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Lab</h2>
      <form id="info-form">
        <div class="form-group"><label>‡∏ä‡∏∑‡πà‡∏≠ Lab:</label><input type="text" name="lab_name" id="info-name" required>
        </div>
        <div class="form-group"><label>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</label><textarea name="description" id="info-desc"
            style="height:120px;"></textarea></div>
        <div class="form-group">
          <label>Logo:</label>
          <input type="file" name="logo" accept="image/*">
          <input type="hidden" name="old_logo" id="info-old-logo">
          <div id="logo-preview" style="margin-top:10px;"></div>
        </div>
        <button type="submit" class="btn-save">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </form>
    </div>

    <div id="category-editor" class="settings-box" style="border-left-color: #007bff;">
      <h2 class="section-header">üìÅ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (Category)</h2>
      <div class="form-group" style="display:flex; gap:10px;">
        <input type="text" id="new-cat-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÉ‡∏´‡∏°‡πà..." style="flex:1;">
        <input type="number" id="new-cat-order" placeholder="‡∏•‡∏≥‡∏î‡∏±‡∏ö" value="1" style="width:80px;">
        <button class="btn-orange" onclick="addCategory()" style="width:100px; border-radius:5px;">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
      </div>
      <div id="category-list" style="margin-top:20px;"></div>
    </div>

    <div id="member-editor" style="background:white; padding:30px; border-radius:10px;">
      <h2 class="section-header" id="form-title">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
      <form id="member-form">
        <input type="hidden" name="id" id="mem-id">
        <input type="hidden" name="old_image" id="mem-old-image">

        <div class="form-group">
          <label>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà:</label>
          <select name="category_id" id="mem-category">
          </select>
        </div>
        <div class="form-group"><label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</label><input type="text" name="name" id="mem-name" required></div>
        <div class="form-group"><label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</label><input type="text" name="position" id="mem-position"></div>
        <div class="form-group">
          <label>‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå:</label>
          <input type="file" name="image" id="mem-image" accept="image/*">
          <div id="mem-preview" style="margin-top:10px;"></div>
        </div>
        <button type="submit" class="btn-save">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
        <button type="button" class="btn-delete" onclick="deleteMember()" style="margin-top:10px;">‡∏•‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</button>
      </form>
    </div>

    <div id="welcome-msg" style="text-align:center; margin-top:100px; color:#aaa;">
      <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢</h2>
    </div>
  </div>

  <script src="assets/js/admin_lab.js"></script>

</body>

</html>